<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.8">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-177425497-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script><title data-react-helmet="true">Multiplatform Testing | Kotest</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://kotest.io/docs/framework/multiplatform.html"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Multiplatform Testing | Kotest"><meta data-react-helmet="true" name="description" content="Experimental Feature"><meta data-react-helmet="true" property="og:description" content="Experimental Feature"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://kotest.io/docs/framework/multiplatform.html"><link data-react-helmet="true" rel="alternate" href="https://kotest.io/docs/framework/multiplatform.html" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://kotest.io/docs/framework/multiplatform.html" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.8aa7f4ac.css">
<link rel="preload" href="/assets/js/runtime~main.92b3e671.js" as="script">
<link rel="preload" href="/assets/js/main.01b2630b.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="Kotest" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/img/logo.png" alt="Kotest" class="themedImage_1VuW themedImage--dark_hz6m"></div><b class="navbar__title">Kotest</b></a><a class="navbar__item navbar__link" href="/docs/quickstart">Overview</a><a class="navbar__item navbar__link" href="/docs/framework/framework.html">Framework</a><a class="navbar__item navbar__link" href="/docs/extensions/extensions.html">Extensions</a><a class="navbar__item navbar__link" href="/docs/assertions/assertions.html">Assertions</a><a class="navbar__item navbar__link" href="/docs/proptest/property-based-testing.html">Property Testing</a><a class="navbar__item navbar__link" href="/docs/intellij/intellij-plugin.html">Intellij Plugin</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/kotest/kotest/issues" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Issue Tracker<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://github.com/kotest/kotest" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_71bT toggle_3Zt9 toggleDisabled_3cF-"><div class="toggleTrack_32Fl" role="button" tabindex="-1"><div class="toggleTrackCheck_3lV7"><span class="toggleIcon_O4iE">ðŸŒœ</span></div><div class="toggleTrackX_S2yS"><span class="toggleIcon_O4iE">ðŸŒž</span></div><div class="toggleTrackThumb_xI_Z"></div></div><input type="checkbox" class="toggleScreenReader_28Tw" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><main class="docMainContainer_3ufF docMainContainerEnhanced_3NYZ"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Multiplatform Testing</h1></header><p><em>Experimental Feature</em></p><p>Kotest 5.0 supports full multiplatform testing - JVM, JS and native.
This page describes how to use Kotest with Kotlin multiplatform.</p><p>This is a beta feature first released in 5.0.0.M1</p><p>Note: Only IR mode is supported for Javascript - Legacy is discontinued.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="gradle-plugin">Gradle Plugin<a aria-hidden="true" class="hash-link" href="#gradle-plugin" title="Direct link to heading">â€‹</a></h3><p>Add the <a href="https://plugins.gradle.org/plugin/io.kotest.multiplatform" target="_blank" rel="noopener noreferrer">Kotest multiplatform gradle plugin</a> to your build.</p><p>For example:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">plugins {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   id(&quot;io.kotest.multiplatform&quot;) version &quot;5.0.0.5&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="engine-dependency">Engine Dependency<a aria-hidden="true" class="hash-link" href="#engine-dependency" title="Direct link to heading">â€‹</a></h3><p>Add the Kotest engine module to your build - either as a common dependency or as a platform specific dependency.</p><p>For example, either:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">val commonTest by getting {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   dependencies {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      implementation(&quot;io.kotest:kotest-framework-engine:5.0.0.M1&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Or</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">val jsTest by getting {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   dependencies {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      implementation(&quot;io.kotest:kotest-framework-engine-js:5.0.0.M1&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Or</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">val linuxX64Test by getting {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   dependencies {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      implementation(&quot;io.kotest:kotest-framework-engine-linuxx64:5.0.0.M1&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Note: The JUnit runner dependency (<code>io.kotest:kotest-runner-junit5-jvm</code>) is still required for JVM tests as on the JVM
the tests run via JUnit platform.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="executing-tests">Executing tests<a aria-hidden="true" class="hash-link" href="#executing-tests" title="Direct link to heading">â€‹</a></h3><p>When using multiplatform you must use the <code>check</code> task and not the <code>test</code> task.</p><p><code>./gradlew check</code></p><h3 class="anchor anchorWithStickyNavbar_31ik" id="caveats">Caveats<a aria-hidden="true" class="hash-link" href="#caveats" title="Direct link to heading">â€‹</a></h3><ul><li>The Javascript and Native test engines are more feature limited than the JVM test engine. For example, concurrent tests and annotation based configuration. Kotlin doesn&#x27;t expose annotations to non-reflection targets.</li></ul><ul><li>Legacy support for JS (present in 4.x) has been dropped and only IR is supported moving forward. This is because in
5.0 the MPP support works via compiler plugins, which are different between IR and legacy, and we will not support a
deprecated backend (legacy) in new code.</li></ul><ul><li><p>Tests for Javascript can only use the <code>FunSpec</code>, <code>ShouldSpec</code> and <code>StringSpec</code> spec styles. This is
somewhat ironic since <code>DescribeSpec</code> is in fact inspired by Javascript testing frameworks.</p><p>The reason is that JS testing libraries (which are used by Kotlin/JS under the hood) do not support promises in &quot;parent&quot; tests, but Kotest does (suspend). So
either the DSL would need to have a breaking change so that parent tests are not suspendable (a breaking change and
undesirable for writing JVM tests) or we just disallow those spec styles in JS. You will see a warning in output if
you use them for JS tests.</p></li></ul><ul><li>The IntelliJ plugin will not allow you to run common, native or JS tests from the IDE. You will need to use
the <code>gradle check</code> task.</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/kotest/kotest/blob/master/documentation/docs/framework/mpp.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#gradle-plugin" class="table-of-contents__link toc-highlight">Gradle Plugin</a></li><li><a href="#engine-dependency" class="table-of-contents__link toc-highlight">Engine Dependency</a></li><li><a href="#executing-tests" class="table-of-contents__link toc-highlight">Executing tests</a></li><li><a href="#caveats" class="table-of-contents__link toc-highlight">Caveats</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://kotlinlang.slack.com/archives/CT0G9SD7Z" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/kotest/kotest" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/kotest" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Kotest Team. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.92b3e671.js"></script>
<script src="/assets/js/main.01b2630b.js"></script>
</body>
</html>